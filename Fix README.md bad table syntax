# ComfyUI-Liebs-Picker

A node to pause execution of the workflow and select which input images should proceed to the output.

## Features

* Display a modal dialog with the images to select.

* Switch between a grid view and a single image view.

* _Pass images_ selection mode to select desired images and send them through.

* _Filter images_ selection mode to flag unwanted images and send remaining images.

* Modal can be operated with only keyboard (WASD or Arrow) or only mouse controls.

* Modal only displays in the browser tab that was running the workflow.

| Grid view | Single image view |
| :----: | :----: |
| ![Screenshot of the grid view](./docs/images/grid-modal.png) | ![Screenshot of the single image view](./docs/images/zoom-modal.png) |
| Images are displayed in a grid for selection. | Single image mode allows you to view each image using all available space. |

| Filter mode to flag unwanted images | Pass mode with unwanted images |
| :----: | :----: |
| ![Grid view with excluded images](./docs/images/filter-mode.png) | ![Grid view with selected and excluded images](./docs/images/picker-filter.png) |
| Filter mode to flag unwanted images and pass the remaining images. | Pass mode with unwanted images on a large batch. |

| Workflow example | Settings panel |
| :----: | :----: |
| ![Example workflow with the node](./docs/images/workflow.png) | ![Settings panel for the node](./docs/images/settings.png) |
| The node accepts a list of images and returns a filtered list of images. | The modal behaviour and default selection mode are configurable. |

## Controls

* Middle-click or Spacebar toggles between grid view and single image view.

* E, forward-slash /, or left-click to select or deselect images.

* X or single-quote ' to flag unwanted images.

* _Filter image_ mode: the select action (E,/,click) is swapped with flag unwanted action (X,').

* [Mouse-over the top-right of an image to reveal button controls](./docs/images/image-buttons.png).

* Enter to proceed with selection, or Escape to cancel workflow.

### Grid view

* Arrows keys or WASD to nagivate between images in the grid view.

* Toggle selected images with number keys 1-9 and 0.

### Single image view

* Mouse-wheel, Left/Right arrow keys, or AD keys to navigate between images in single image view.

## Credits

This node was developed using the techniques from [cg-image-filter](https://github.com/chrisgoringe/cg-image-filter) by @chrisgoringe.
